{
    "grammar": {
        "language": "mysql",
        "version": {
            "min": "5.7",
            "max": "5.7.9999"
        }
    },
    "rules": {
        "reserved_words": {
            "method": "case",
            "group": [
                { "keyword": "ACCESSIBLE", "method": "ignore case" },
                { "keyword": "ADD", "method": "ignore case" },
                { "keyword": "ALL", "method": "ignore case" },
                { "keyword": "ALTER", "method": "ignore case" },
                { "keyword": "ANALYZE", "method": "ignore case" },
                { "keyword": "AND", "method": "ignore case" },
                { "keyword": "AS", "method": "ignore case" },
                { "keyword": "ASC", "method": "ignore case" },
                { "keyword": "ASENSITIVE", "method": "ignore case" },
                { "keyword": "BEFORE", "method": "ignore case" },
                { "keyword": "BETWEEN", "method": "ignore case" },
                { "keyword": "BIGINT", "method": "ignore case" },
                { "keyword": "BINARY", "method": "ignore case" },
                { "keyword": "BLOB", "method": "ignore case" },
                { "keyword": "BOTH", "method": "ignore case" },
                { "keyword": "BY", "method": "ignore case" },
                { "keyword": "CALL", "method": "ignore case" },
                { "keyword": "CASCADE", "method": "ignore case" },
                { "keyword": "CASE", "method": "ignore case" },
                { "keyword": "CHANGE", "method": "ignore case" },
                { "keyword": "CHAR", "method": "ignore case" },
                { "keyword": "CHARACTER", "method": "ignore case" },
                { "keyword": "CHECK", "method": "ignore case" },
                { "keyword": "COLLATE", "method": "ignore case" },
                { "keyword": "COLUMN", "method": "ignore case" },
                { "keyword": "CONDITION", "method": "ignore case" },
                { "keyword": "CONSTRAINT", "method": "ignore case" },
                { "keyword": "CONTINUE", "method": "ignore case" },
                { "keyword": "CONVERT", "method": "ignore case" },
                { "keyword": "CREATE", "method": "ignore case" },
                { "keyword": "CROSS", "method": "ignore case" },
                { "keyword": "CURRENT_DATE", "method": "ignore case" },
                { "keyword": "CURRENT_TIME", "method": "ignore case" },
                { "keyword": "CURRENT_TIMESTAMP", "method": "ignore case" },
                { "keyword": "CURRENT_USER", "method": "ignore case" },
                { "keyword": "CURSOR", "method": "ignore case" },
                { "keyword": "DATABASE", "method": "ignore case" },
                { "keyword": "DATABASES", "method": "ignore case" },
                { "keyword": "DAY_HOUR", "method": "ignore case" },
                { "keyword": "DAY_MICROSECOND", "method": "ignore case" },
                { "keyword": "DAY_MINUTE", "method": "ignore case" },
                { "keyword": "DAY_SECOND", "method": "ignore case" },
                { "keyword": "DEC", "method": "ignore case" },
                { "keyword": "DECIMAL", "method": "ignore case" },
                { "keyword": "DECLARE", "method": "ignore case" },
                { "keyword": "DEFAULT", "method": "ignore case" },
                { "keyword": "DELAYED", "method": "ignore case" },
                { "keyword": "DELETE", "method": "ignore case" },
                { "keyword": "DESC", "method": "ignore case" },
                { "keyword": "DESCRIBE", "method": "ignore case" },
                { "keyword": "DETERMINISTIC", "method": "ignore case" },
                { "keyword": "DISTINCT", "method": "ignore case" },
                { "keyword": "DISTINCTROW", "method": "ignore case" },
                { "keyword": "DIV", "method": "ignore case" },
                { "keyword": "DOUBLE", "method": "ignore case" },
                { "keyword": "DROP", "method": "ignore case" },
                { "keyword": "DUAL", "method": "ignore case" },
                { "keyword": "EACH", "method": "ignore case" },
                { "keyword": "ELSE", "method": "ignore case" },
                { "keyword": "ELSEIF", "method": "ignore case" },
                { "keyword": "ENCLOSED", "method": "ignore case" },
                { "keyword": "ESCAPED", "method": "ignore case" },
                { "keyword": "EXISTS", "method": "ignore case" },
                { "keyword": "EXIT", "method": "ignore case" },
                { "keyword": "EXPLAIN", "method": "ignore case" },
                { "keyword": "FALSE", "method": "ignore case" },
                { "keyword": "FETCH", "method": "ignore case" },
                { "keyword": "FLOAT", "method": "ignore case" },
                { "keyword": "FLOAT4", "method": "ignore case" },
                { "keyword": "FLOAT8", "method": "ignore case" },
                { "keyword": "FOR", "method": "ignore case" },
                { "keyword": "FORCE", "method": "ignore case" },
                { "keyword": "FOREIGN", "method": "ignore case" },
                { "keyword": "FROM", "method": "ignore case" },
                { "keyword": "FULLTEXT", "method": "ignore case" },
                { "keyword": "GENERATED", "method": "ignore case" },
                { "keyword": "GET", "method": "ignore case" },
                { "keyword": "GRANT", "method": "ignore case" },
                { "keyword": "GROUP", "method": "ignore case" },
                { "keyword": "HAVING", "method": "ignore case" },
                { "keyword": "HIGH_PRIORITY", "method": "ignore case" },
                { "keyword": "HOUR_MICROSECOND", "method": "ignore case" },
                { "keyword": "HOUR_MINUTE", "method": "ignore case" },
                { "keyword": "HOUR_SECOND", "method": "ignore case" },
                { "keyword": "IF", "method": "ignore case" },
                { "keyword": "IGNORE", "method": "ignore case" },
                { "keyword": "IN", "method": "ignore case" },
                { "keyword": "INDEX", "method": "ignore case" },
                { "keyword": "INFILE", "method": "ignore case" },
                { "keyword": "INNER", "method": "ignore case" },
                { "keyword": "INOUT", "method": "ignore case" },
                { "keyword": "INSENSITIVE", "method": "ignore case" },
                { "keyword": "INSERT", "method": "ignore case" },
                { "keyword": "INT", "method": "ignore case" },
                { "keyword": "INT1", "method": "ignore case" },
                { "keyword": "INT2", "method": "ignore case" },
                { "keyword": "INT3", "method": "ignore case" },
                { "keyword": "INT4", "method": "ignore case" },
                { "keyword": "INT8", "method": "ignore case" },
                { "keyword": "INTEGER", "method": "ignore case" },
                { "keyword": "INTERVAL", "method": "ignore case" },
                { "keyword": "INTO", "method": "ignore case" },
                { "keyword": "IO_AFTER_GTIDS", "method": "ignore case" },
                { "keyword": "IO_BEFORE_GTIDS", "method": "ignore case" },
                { "keyword": "IS", "method": "ignore case" },
                { "keyword": "ITERATE", "method": "ignore case" },
                { "keyword": "JOIN", "method": "ignore case" },
                { "keyword": "KEY", "method": "ignore case" },
                { "keyword": "KEYS", "method": "ignore case" },
                { "keyword": "KILL", "method": "ignore case" },
                { "keyword": "LEADING", "method": "ignore case" },
                { "keyword": "LEAVE", "method": "ignore case" },
                { "keyword": "LEFT", "method": "ignore case" },
                { "keyword": "LIKE", "method": "ignore case" },
                { "keyword": "LIMIT", "method": "ignore case" },
                { "keyword": "LINEAR", "method": "ignore case" },
                { "keyword": "LINES", "method": "ignore case" },
                { "keyword": "LOAD", "method": "ignore case" },
                { "keyword": "LOCALTIME", "method": "ignore case" },
                { "keyword": "LOCALTIMESTAMP", "method": "ignore case" },
                { "keyword": "LOCK", "method": "ignore case" },
                { "keyword": "LONG", "method": "ignore case" },
                { "keyword": "LONGBLOB", "method": "ignore case" },
                { "keyword": "LONGTEXT", "method": "ignore case" },
                { "keyword": "LOOP", "method": "ignore case" },
                { "keyword": "LOW_PRIORITY", "method": "ignore case" },
                { "keyword": "MASTER_BIND", "method": "ignore case" },
                { "keyword": "MASTER_SSL_VERIFY_SERVER_CERT", "method": "ignore case" },
                { "keyword": "MATCH", "method": "ignore case" },
                { "keyword": "MAXVALUE", "method": "ignore case" },
                { "keyword": "MEDIUMBLOB", "method": "ignore case" },
                { "keyword": "MEDIUMINT", "method": "ignore case" },
                { "keyword": "MEDIUMTEXT", "method": "ignore case" },
                { "keyword": "MIDDLEINT", "method": "ignore case" },
                { "keyword": "MINUTE_MICROSECOND", "method": "ignore case" },
                { "keyword": "MINUTE_SECOND", "method": "ignore case" },
                { "keyword": "MOD", "method": "ignore case" },
                { "keyword": "MODIFIES", "method": "ignore case" },
                { "keyword": "NATURAL", "method": "ignore case" },
                { "keyword": "NOT", "method": "ignore case" },
                { "keyword": "NO_WRITE_TO_BINLOG", "method": "ignore case" },
                { "keyword": "NULL", "method": "ignore case" },
                { "keyword": "NUMERIC", "method": "ignore case" },
                { "keyword": "ON", "method": "ignore case" },
                { "keyword": "OPTIMIZE", "method": "ignore case" },
                { "keyword": "OPTIMIZER_COSTS", "method": "ignore case" },
                { "keyword": "OPTION", "method": "ignore case" },
                { "keyword": "OPTIONALLY", "method": "ignore case" },
                { "keyword": "OR", "method": "ignore case" },
                { "keyword": "ORDER", "method": "ignore case" },
                { "keyword": "OUT", "method": "ignore case" },
                { "keyword": "OUTER", "method": "ignore case" },
                { "keyword": "OUTFILE", "method": "ignore case" },
                { "keyword": "PARSE_GCOL_EXPR", "method": "ignore case" },
                { "keyword": "PARTITION", "method": "ignore case" },
                { "keyword": "PRECISION", "method": "ignore case" },
                { "keyword": "PRIMARY", "method": "ignore case" },
                { "keyword": "PROCEDURE", "method": "ignore case" },
                { "keyword": "PURGE", "method": "ignore case" },
                { "keyword": "RANGE", "method": "ignore case" },
                { "keyword": "READ", "method": "ignore case" },
                { "keyword": "READS", "method": "ignore case" },
                { "keyword": "READ_WRITE", "method": "ignore case" },
                { "keyword": "REAL", "method": "ignore case" },
                { "keyword": "REFERENCES", "method": "ignore case" },
                { "keyword": "REGEXP", "method": "ignore case" },
                { "keyword": "RELEASE", "method": "ignore case" },
                { "keyword": "RENAME", "method": "ignore case" },
                { "keyword": "REPEAT", "method": "ignore case" },
                { "keyword": "REPLACE", "method": "ignore case" },
                { "keyword": "REQUIRE", "method": "ignore case" },
                { "keyword": "RESIGNAL", "method": "ignore case" },
                { "keyword": "RESTRICT", "method": "ignore case" },
                { "keyword": "RETURN", "method": "ignore case" },
                { "keyword": "REVOKE", "method": "ignore case" },
                { "keyword": "RIGHT", "method": "ignore case" },
                { "keyword": "RLIKE", "method": "ignore case" },
                { "keyword": "SCHEMA", "method": "ignore case" },
                { "keyword": "SCHEMAS", "method": "ignore case" },
                { "keyword": "SECOND_MICROSECOND", "method": "ignore case" },
                { "keyword": "SELECT", "method": "ignore case" },
                { "keyword": "SENSITIVE", "method": "ignore case" },
                { "keyword": "SEPARATOR", "method": "ignore case" },
                { "keyword": "SET", "method": "ignore case" },
                { "keyword": "SHOW", "method": "ignore case" },
                { "keyword": "SIGNAL", "method": "ignore case" },
                { "keyword": "SMALLINT", "method": "ignore case" },
                { "keyword": "SPATIAL", "method": "ignore case" },
                { "keyword": "SPECIFIC", "method": "ignore case" },
                { "keyword": "SQL", "method": "ignore case" },
                { "keyword": "SQLEXCEPTION", "method": "ignore case" },
                { "keyword": "SQLSTATE", "method": "ignore case" },
                { "keyword": "SQLWARNING", "method": "ignore case" },
                { "keyword": "SQL_BIG_RESULT", "method": "ignore case" },
                { "keyword": "SQL_CALC_FOUND_ROWS", "method": "ignore case" },
                { "keyword": "SQL_SMALL_RESULT", "method": "ignore case" },
                { "keyword": "SSL", "method": "ignore case" },
                { "keyword": "STARTING", "method": "ignore case" },
                { "keyword": "STORED", "method": "ignore case" },
                { "keyword": "STRAIGHT_JOIN", "method": "ignore case" },
                { "keyword": "TABLE", "method": "ignore case" },
                { "keyword": "TERMINATED", "method": "ignore case" },
                { "keyword": "THEN", "method": "ignore case" },
                { "keyword": "TINYBLOB", "method": "ignore case" },
                { "keyword": "TINYINT", "method": "ignore case" },
                { "keyword": "TINYTEXT", "method": "ignore case" },
                { "keyword": "TO", "method": "ignore case" },
                { "keyword": "TRAILING", "method": "ignore case" },
                { "keyword": "TRIGGER", "method": "ignore case" },
                { "keyword": "TRUE", "method": "ignore case" },
                { "keyword": "UNDO", "method": "ignore case" },
                { "keyword": "UNION", "method": "ignore case" },
                { "keyword": "UNIQUE", "method": "ignore case" },
                { "keyword": "UNLOCK", "method": "ignore case" },
                { "keyword": "UNSIGNED", "method": "ignore case" },
                { "keyword": "UPDATE", "method": "ignore case" },
                { "keyword": "USAGE", "method": "ignore case" },
                { "keyword": "USE", "method": "ignore case" },
                { "keyword": "USING", "method": "ignore case" },
                { "keyword": "UTC_DATE", "method": "ignore case" },
                { "keyword": "UTC_TIME", "method": "ignore case" },
                { "keyword": "UTC_TIMESTAMP", "method": "ignore case" },
                { "keyword": "VALUES", "method": "ignore case" },
                { "keyword": "VARBINARY", "method": "ignore case" },
                { "keyword": "VARCHAR", "method": "ignore case" },
                { "keyword": "VARCHARACTER", "method": "ignore case" },
                { "keyword": "VARYING", "method": "ignore case" },
                { "keyword": "VIRTUAL", "method": "ignore case" },
                { "keyword": "WHEN", "method": "ignore case" },
                { "keyword": "WHERE", "method": "ignore case" },
                { "keyword": "WHILE", "method": "ignore case" },
                { "keyword": "WITH", "method": "ignore case" },
                { "keyword": "WRITE", "method": "ignore case" },
                { "keyword": "XOR", "method": "ignore case" },
                { "keyword": "YEAR_MONTH", "method": "ignore case" },
                { "keyword": "ZEROFILL", "method": "ignore case" }
            ]
        },
        "object_name": {
            "method": "case",
            "group": [
                {
                    "match": "`([\\x{0001}-\\x{FFFF}]+?)`",
                    "method": "literal",
                    "unicode": true
                },
                {
                    "match": "([\\w$\\x{0080}-\\x{FFFF}]+)",
                    "method": "literal",
                    "exclude": "reserved_words",
                    "unicode": true
                }
            ]
        },

        "db_name": {
            "rule": "object_name"
        },

        "charset_name": {
            "rule": "object_name"
        },

        "collate_name": {
            "rule": "object_name"
        },

        "comment": {
            "starter": true,
            "repeat": "1..n",
            "rule": {
                "method": "case",
                "group": [
                    {
                        "method": "literal",
                        "match": "\\/\\*(.*?)\\*\\/"
                    },
                    {
                        "method": "literal",
                        "match": "\\-\\-\\s+(.*?)\n"
                    },
                    {
                        "method": "literal",
                        "match": "\\s+"
                    }
                ]
            }
        },

        "end_sentence": {
            "starter": true,
            "repeat": "1..n",
            "tokenizer": "comment",
            "hidden": true,
            "rule": {
                "method": "literal",
                "match": "(;|$)"
            }
        },

        "if_not_exists": {
            "method": "sequence",
            "tokenizer": "comment",
            "group": [
                {
                    "keyword": "IF",
                    "method": "ignore case"
                },
                {
                    "keyword": "NOT",
                    "method": "ignore case"
                },
                {
                    "keyword": "EXISTS",
                    "method": "ignore case"
                }
            ]
        },

        "create_specification": {
            "method": "sequence",
            "tokenizer": "comment",
            "group": [
                {
                    "repeat": "0..1",
                    "rule": {
                        "method": "sequence",
                        "tokenizer": "comment",
                        "group": [
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "DEFAULT",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "keyword": "CHARACTER",
                                "method": "ignore case"
                            },
                            {
                                "keyword": "SET",
                                "method": "ignore case"
                            },
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "=",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "repeat": "1",
                                "rule": "charset_name",
                                "path": "charset"
                            }
                        ]
                    }

                },
                {
                    "repeat": "0..1",
                    "rule": {
                        "method": "sequence",
                        "tokenizer": "comment",
                        "group": [
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "DEFAULT",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "keyword": "COLLATE",
                                "method": "ignore case"
                            },
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "=",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "repeat": "1",
                                "rule": "collate_name",
                                "path": "collate"
                            }
                        ]
                    }

                }
            ]
        },

        "create_schema": {
            "method": "sequence",
            "tokenizer": "comment",
            "starter": true,
            "group": [
                {
                    "keyword": "CREATE",
                    "method": "ignore case",
                    "path": "action",
                    "value": "create"
                },
                {
                    "method": "case",
                    "tokenizer": "comment",
                    "group": [
                        {
                            "keyword": "DATABASE",
                            "method": "ignore case",
                            "path": "type",
                            "value": "schema"
                        },
                        {
                            "keyword": "SCHEMA",
                            "method": "ignore case",
                            "path": "type",
                            "value": "schema"
                        }
                    ]
                },
                {
                    "repeat": "0..1",
                    "rule": "if_not_exists"
                },
                {
                    "repeat": "1",
                    "rule": "db_name",
                    "path": "schema"
                },
                {
                    "repeat": "0..1",
                    "rule": "create_specification"
                },
                {
                    "rule": "end_sentence"
                }
            ]
        },




        "create_table": {
            "starter": true,
            "method": "sequence",
            "tokenizer": {
                "rule": "comment"
            },
            "group": [
                {
                    "method": "ignore case",
                    "keyword": "CREATE"
                },
                {
                    "repeat": "0..1",
                    "rule": {
                            "method": "ignore case",
                            "keyword": "TEMPORARY"
                    }
                },
                {
                    "method": "ignore case",
                    "keyword": "TABLE"
                },
                {
                    "rule": "if_not_exists"
                }
            ]
        }
    }
}
