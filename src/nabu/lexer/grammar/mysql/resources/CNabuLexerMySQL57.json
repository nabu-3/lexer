{
    "grammar": {
        "language": "mysql",
        "version": {
            "min": "5.7",
            "max": "5.7.9999"
        }
    },
    "rules": {
        "reserved_words": {
            "method": "case",
            "group": [
                { "keyword": "CHARACTER", "method": "ignore case" },
                { "keyword": "COLLATE", "method": "ignore case" },
                { "keyword": "CREATE", "method": "ignore case" },
                { "keyword": "DATABASE", "method": "ignore case" },
                { "keyword": "DEFAULT", "method": "ignore case" },
                { "keyword": "SET", "method": "ignore case" },
                { "keyword": "SCHEMA", "method": "ignore case" }
            ]
        },
        "object_name": {
            "method": "case",
            "group": [
                {
                    "match": "`([\\x{0001}-\\x{FFFF}]+?)`",
                    "method": "literal",
                    "unicode": true
                },
                {
                    "match": "([\\w$\\x{0080}-\\x{FFFF}]+)",
                    "method": "literal",
                    "exclude": "reserved_words",
                    "unicode": true
                }
            ]
        },

        "db_name": {
            "rule": "object_name"
        },

        "charset_name": {
            "rule": "object_name"
        },

        "collate_name": {
            "rule": "object_name"
        },

        "comment": {
            "starter": true,
            "repeat": "1..n",
            "rule": {
                "method": "case",
                "group": [
                    {
                        "method": "literal",
                        "match": "\\/\\*(.*?)\\*\\/"
                    },
                    {
                        "method": "literal",
                        "match": "\\-\\-\\s+(.*?)\n"
                    },
                    {
                        "method": "literal",
                        "match": "\\s+"
                    }
                ]
            }
        },

        "end_sentence": {
            "starter": true,
            "repeat": "1..n",
            "tokenizer": "comment",
            "hidden": true,
            "rule": {
                "method": "literal",
                "match": "(;|$)"
            }
        },

        "if_not_exists": {
            "method": "sequence",
            "tokenizer": "comment",
            "group": [
                {
                    "keyword": "IF",
                    "method": "ignore case"
                },
                {
                    "keyword": "NOT",
                    "method": "ignore case"
                },
                {
                    "keyword": "EXISTS",
                    "method": "ignore case"
                }
            ]
        },

        "create_specification": {
            "method": "sequence",
            "tokenizer": "comment",
            "group": [
                {
                    "repeat": "0..1",
                    "rule": {
                        "method": "sequence",
                        "tokenizer": "comment",
                        "group": [
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "DEFAULT",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "keyword": "CHARACTER",
                                "method": "ignore case"
                            },
                            {
                                "keyword": "SET",
                                "method": "ignore case"
                            },
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "=",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "rule": "charset_name"
                            }
                        ]
                    }

                },
                {
                    "repeat": "0..1",
                    "rule": {
                        "method": "sequence",
                        "tokenizer": "comment",
                        "group": [
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "DEFAULT",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "keyword": "COLLATE",
                                "method": "ignore case"
                            },
                            {
                                "repeat": "0..1",
                                "rule": {
                                    "keyword": "=",
                                    "method": "ignore case"
                                }
                            },
                            {
                                "rule": "collate_name"
                            }
                        ]
                    }

                }
            ]
        },

        "create_schema": {
            "method": "sequence",
            "tokenizer": "comment",
            "group": [
                {
                    "keyword": "CREATE",
                    "method": "ignore case"
                },
                {
                    "method": "case",
                    "tokenizer": "comment",
                    "group": [
                        {
                            "keyword": "DATABASE",
                            "method": "ignore case"
                        },
                        {
                            "keyword": "SCHEMA",
                            "method": "ignore case"
                        }
                    ]
                },
                {
                    "repeat": "0..1",
                    "rule": "if_not_exists"
                },
                {
                    "rule": "db_name"
                },
                {
                    "repeat": "0..1",
                    "rule": "create_specification"
                },
                {
                    "rule": "end_sentence"
                }
            ],
            "save": [
            ]
        },




        "create_table": {
            "starter": true,
            "method": "sequence",
            "tokenizer": {
                "rule": "comment"
            },
            "group": [
                {
                    "method": "ignore case",
                    "keyword": "CREATE"
                },
                {
                    "repeat": "0..1",
                    "rule": {
                            "method": "ignore case",
                            "keyword": "TEMPORARY"
                    }
                },
                {
                    "method": "ignore case",
                    "keyword": "TABLE"
                },
                {
                    "rule": "if_not_exists"
                }
            ]
        }
    }
}
